---
title: "Claude Code Mastery Part 9: Power User Secrets"
description: "The tips and tricks that separate casual users from Claude Code wizards. Learn ultrathink, git worktrees, mermaid diagrams, memory banks, and more hidden features."
publishedAt: "2026-01-15"
author: "Jo Vinkenroye"
category: "Tutorials"
tags: ["Claude Code", "AI", "Power User", "Productivity", "Hidden Features"]
coverImage: "/assets/blog/claude-cowork-og.jpg"
series:
  id: "claude-code-mastery"
  title: "Claude Code Mastery"
  part: 9
  total: 10
---

The tips and tricks that separate casual users from Claude Code wizards. Most of these aren't in any official documentation.

## Extended Thinking Commands

Force Claude to think deeper on complex problems.

### ultrathink

```
ultrathink about how to architect this authentication system
```

Triggers extended reasoning. Claude will:
- Consider multiple approaches
- Evaluate trade-offs
- Provide more thorough analysis
- Take longer but produce better results

### Other Thinking Triggers

```
think step by step about this refactoring
```

```
think harder about edge cases here
```

```
think deeply about the security implications
```

```
reason through this carefully before implementing
```

These phrases engage Claude's extended thinking capabilities, especially useful for:
- Architecture decisions
- Complex debugging
- Security analysis
- Performance optimization

## Multi-Window Power Moves

Don't wait for one task to finish. Run multiple Claude Code instances on different feature branches simultaneously using **git worktrees**.

### The Problem

Git tracks branches at the repository level. You can't have two terminals in the same folder on different branches - switching in one affects both.

### The Solution: Git Worktrees

Worktrees let you check out multiple branches in separate directories, all linked to the same repo.

```
myproject/                    # main branch
myproject-dashboard/          # feature/user-dashboard branch
myproject-notifications/      # feature/email-notifs branch
```

### Setup

**Create worktrees for each feature:**
```bash
# From your main project directory
git worktree add ../myproject-dashboard feature/user-dashboard
git worktree add ../myproject-notifications feature/email-notifications
```

**Open terminals in each directory:**
```
┌─────────────────────────────┬─────────────────────────────┐
│  Terminal 1                 │  Terminal 2                 │
│  cd myproject-dashboard     │  cd myproject-notifications │
│  claude                     │  claude                     │
│                             │                             │
│  "Add the stats cards"      │  "Set up email service"     │
└─────────────────────────────┴─────────────────────────────┘
```

### Why This Works

- Each worktree is a separate directory with its own branch
- Each Claude session has isolated context
- Changes don't interfere with each other
- You 2-3x your throughput instead of waiting

### Cleanup

When done with a feature:
```bash
# Merge the feature
cd myproject
git merge feature/dark-mode

# Remove the worktree
git worktree remove ../app-dark-mode
```

## Screenshot and Image Input

Claude Code can see images. Drag and drop screenshots directly into your terminal.

### How It Works

1. Take a screenshot (Cmd+Shift+4 on Mac)
2. Drag the image file into your Claude Code terminal
3. Ask about it

### Use Cases

**UI Debugging:**
```
[drag screenshot of broken layout]
What's wrong with this layout? The button should be aligned right.
```

**Design Implementation:**
```
[drag mockup image]
Implement this design using Tailwind CSS
```

**Error Screenshots:**
```
[drag screenshot of error dialog]
What does this error mean and how do I fix it?
```

## Mermaid Diagram Generation

Have Claude create visual diagrams you can render anywhere.

### Architecture Diagrams

```
Generate a mermaid diagram showing the authentication flow in this app
```

Output:
```mermaid
sequenceDiagram
    participant U as User
    participant C as Client
    participant A as Auth Server
    participant D as Database

    U->>C: Enter credentials
    C->>A: POST /auth/login
    A->>D: Validate credentials
    D-->>A: User found
    A-->>C: JWT token
    C-->>U: Redirect to dashboard
```

### Where to Render

- **[mermaid.live](https://mermaid.live/)** - Online editor with live preview
- **GitHub** - Renders mermaid in markdown files and comments
- **VS Code** - With mermaid preview extension
- **Notion** - Supports mermaid code blocks

### Diagram Types

```
Create a mermaid flowchart showing the order processing states
```

```
Generate a mermaid class diagram for the data models
```

```
Make a mermaid ER diagram of the database schema
```

## Memory Bank Pattern

Persist context across sessions without bloating CLAUDE.md.

### Setup

Create a memory directory:

```bash
mkdir -p .claude/memory
```

### Session Memory File

```markdown
# .claude/memory/current-session.md

## Active Focus
Implementing user dashboard feature

## Decisions Made
- Using React Query for data fetching (decided 2024-01-15)
- Chart library: Recharts (lighter than D3 for our needs)
- State: Zustand (team already familiar)

## Blocked On
- Waiting for design review on mobile layout
- Need API endpoint for activity feed

## Recent Changes
- Added DashboardLayout component
- Created useUserStats hook
- Set up Recharts for usage graphs

## Next Steps
1. Implement activity feed once API ready
2. Add export functionality
3. Mobile responsive tweaks
```

### Using Memory Files

Start sessions with:
```
Read .claude/memory/current-session.md and continue where we left off
```

Update at end of sessions:
```
Update .claude/memory/current-session.md with our progress today
```

## Token Optimization Tricks

Save money and improve response quality.

### The /compact Command

```
/compact
```

Summarizes the current context, reducing token usage while preserving important information.

### Reference, Don't Paste

**Bad (wastes tokens):**
```
Here's the code:
[pastes 500 lines]

Fix the bug in this
```

**Good (efficient):**
```
Fix the bug in src/auth/login.ts around line 45
```

Claude will read the file itself, only loading what it needs.

### Strategic /clear

Use between:
- Unrelated tasks
- After completing a feature
- When Claude seems confused
- Before starting something new

Don't keep stale context around "just in case."

## Model Switching Strategies

Different models for different tasks.

### When to Use Each Model

| Model | Best For | Cost |
|-------|----------|------|
| **opus** | Complex architecture, security review, novel problems | $$$ |
| **sonnet** | General coding, everyday tasks (default) | $$ |
| **haiku** | Quick questions, simple tasks, high volume | $ |

### Strategic Model Usage

**Start complex features with opus:**
```
/model opus
Plan the architecture for user permissions system
```

**Switch to sonnet for implementation:**
```
/model sonnet
Implement the permission checking middleware we discussed
```

**Use haiku for quick checks:**
```
/model haiku
Does this regex pattern look correct? /^[\w-]+@[\w-]+\.[\w-]+$/
```

## Headless Mode Automation

Script Claude Code for CI/CD and automation.

### Basic Headless

```bash
claude -p "analyze this PR for security issues" --headless
```

Runs without interactive prompts, outputs to stdout.

### JSON Output

```bash
claude -p "list all TODO comments" --headless --json | jq '.todos'
```

Structured output for scripting.

### Pipeline Integration

```bash
# Log monitoring
tail -f /var/log/app.log | claude -p "alert me about errors" --headless

# Automated review
git diff HEAD~1 | claude -p "summarize these changes" --headless

# Pre-commit hook
claude -p "check staged files for secrets" --headless || exit 1
```

## Hidden Productivity Hacks

### The "As If" Pattern

```
Implement this as if you were a senior engineer at Stripe
```

```
Review this code as if it's going to production tomorrow
```

Sets quality expectations without explicit requirements.

### The Constraint Pattern

```
Implement this in under 50 lines
```

```
Solve this without adding new dependencies
```

Constraints often lead to better solutions.

### The Explain First Pattern

```
Before implementing, explain your approach in 2-3 sentences
```

Forces Claude to think before acting. Catch bad approaches early.

### The Rubber Duck Prompt

```
I'm stuck on [problem]. Ask me questions to help me figure it out.
```

Claude as debugging partner, not just code generator.

## Quick Reference

```bash
# Extended thinking
"ultrathink about..."
"think step by step..."
"think harder about..."

# Multi-window with git worktrees
git worktree add ../feature-branch -b feature/name

# Screenshots
# Drag image file into terminal

# Mermaid diagrams
"Generate a mermaid diagram showing..."

# Memory bank
.claude/memory/current-session.md

# Token optimization
/compact
/clear
Reference files by path

# Model switching
/model opus|sonnet|haiku

# Headless automation
claude -p "task" --headless --json
```
